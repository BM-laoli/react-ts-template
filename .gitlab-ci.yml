# @format

# 执行前配置环境 【package】
# node_module install 【install】
# 检查hsuky ，代码格式化 ，检查eslint  【lint】
# docker （容器包，这里指的是node下的一个ngx类似的🔧它就是我们） 【docker】
# run docker ( 走一个 执行docker 文件 )【rundocker】

# 需要给定一些变量控制ci/cd的执行
# 这里是一个 比较好的 示例（https://gitlab.com/python-devs/ci-images/-/blob/main/.gitlab-ci.yml）

stages: # 分段
  - build

cache: # 缓存
    paths:
        - node_modules
        - build
        - gitlab_test_ci.tar

package-job:
    tags:
        - hot
    stage: package
    script:
        - npm config set registry https://registry.npm.taobao.org/

package-job:
  tags:
    - sss
  stage: build
  image: node:14-buster  #拉取node镜像
  script:
  - npm install -g nrm
  - npm install 
  - npm run build
  artifacts:  #这个是为了能在下个作业中获取到这个dist
    paths:
    - build

